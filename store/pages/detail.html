<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="../css/mui.min.css" rel="stylesheet" />
		<link href="../css/base.css" rel="stylesheet" />
		<link href="../fonts/iconfont.css" rel="stylesheet" />
		<style type="text/css">
			.mui-content{ margin-top:-44px; }
			.icon{ width:20px; height:20px;}
			
			.back{ width:30px; height:30px; line-height:30px; text-align:center; background-color:rgba(0,0,0,0.3); border-radius:50%; position:absolute; top:70px; left:10px; z-index:10; color:#fff; font-size:26px;}
			
			.mui-bar{}
			.mui-bar .mui-tab-item:nth-child(1){ width:1px; border-right:1px solid #ddd !important; color:#333;}
			.mui-bar .mui-tab-item:nth-child(1).active{ color:#FF6400; }
			.mui-bar .mui-tab-item:nth-child(2){ width:4px;}
			.cart{ width:80%; margin:auto; display:flex; border-radius:20px; color:#fff; overflow:hidden; position:relative;}
			.cart div{ flex:1; height:40px; line-height:40px;}
			.cart div:first-child{ background-color:#FFA401;}
			.cart div:last-child{ background-color:#FF6400;}
			
			.starToast{ height:60px; text-align:center;}
			.starToast span{ display:block; margin-top:15px;}
			.starToast .iconfont{ color:#FF6400; font-size:24px;}
			.starToast .message{ }
			
			.scrollToTop{ width:48px; height:48px; font-weight:bold; position:fixed; right:20px; bottom:60px; z-index:100; text-align: center; background-color:rgba(255,255,255,0.8); border:1px solid #ccc; border-radius:50%;}
			.scrollToTop .mui-icon{ color:#999; font-size:26px;}
			.scrollToTop p{ margin-top:-8px;}
			
			.title{ font-size:18px; padding:10px;}
			.tip{ display:flex; justify-content: center;}
			.tip li{ color:#999; padding:0; display:flex; font-size:13px;}
			.tip li embed{ width:16px; height:16px; margin:2px;}
			.goodsprice{ color:#f00; padding:15px 10px; margin-top:10px; border-top:1px solid #eee; border-bottom:1px solid #eee;}
			.goodsprice span:nth-child(1){ font-size:18px;}
			.goodsprice span:nth-child(2){ font-size:26px;}
			
			.mui-table-view p{ color:#333; margin-top:8px;}
			.mui-table-view .btn{ position:absolute; right:0;}
			.mui-table-view .btn .mui-btn{ border-radius:20px; margin-right:10px;}
			
			.comment{ padding:0 10px; display:flex; justify-content: space-between;}
			.comment li{ color:#999; height:40px; line-height:40px;}
			.comment li span{ color:#f00;}
			
			.evaluate{ padding:0 10px;}
			.evaluate .top{ display:flex; height:40px; justify-content: space-between; align-items:center;}
			.evaluate .top p{ color:#333;}
			.evaluate .top a{ color:#f00;}
			.evaluate .top a .mui-icon{ font-size:18px;}
			.evaluate .label{ display:flex; flex-wrap:wrap;}
			.evaluate .label li{ display:inline-block; padding:3px 13px; margin:10px; background-color:rgba(255,0,0,0.05); border-radius:20px; color:#666;}
			
			.mui-card-content{ padding:10px;}
			
			.detail{}
			.detail .mui-control-item{ border:1px solid #f00 !important;}
			.detail .mui-control-item.mui-active{ background-color:#f00 !important; color:#fff !important;}
			
			.like{}
			.like .top{ height:40px; margin:auto; display:flex; justify-content: center; align-items:center;}
			.like .top:before{ content:''; position:absolute; width:50px; height:1px; background-color:#f00; margin:20px 0 0 -60px;}
			.like .top:after{ content:''; position:absolute; width:50px; height:1px; background-color:#f00; margin:20px 0 0 10px;}
			.like .top p{ margin-left:10px;}
			.like ul{}
			.like ul li{ border-bottom:1px solid #f5f5f5; padding:5px;}
			.like ul li a{ display:flex; color:#333;}
			.like .like-left{ width:140px;}
			.like .like-left img{ width:100%; height:140px; display:block;}
			.like .like-right{ flex:1; padding:0 8px;}
			.like .like-right .name{ font-size:16px;}
			.like .like-right .price{ margin-top:40px; display:flex; justify-content: space-between;}
			.like .like-right .price p:nth-child(1){ color:#f00; font-size:20px;}
			.like .like-right .price p:nth-child(2){}
			.like .like-right .price1{ margin-top:10px; display:flex; justify-content: space-between;}
			.like .like-right .price1 p{ color:#999;}
			.like .like-right .price1 .ticket{}
			.like .like-right .price1 .ticket img{ width:60px;}
			
		</style> 
	</head>
	<body> 
		<header class="mui-bar mui-bar-nav hide">
		    <a class="mui-action-back mui-icon mui-icon-left-nav mui-pull-left"></a>
		    <!--<h1 class="mui-title">商品详情</h1>-->
		</header>
		
		<nav class="mui-bar mui-bar-tab">
		    <a class="mui-tab-item mui-active" id="collect">
		        <span class="mui-icon iconfont icon-star"></span>
		        <span class="mui-tab-label" id="star">收藏</span>
		    </a>
		    <a class="mui-tab-item">
		        <div class="cart">
		        	<div>加入购物车</div> 
		        	<div>立即购买</div>
		        </div>
		    </a>
		</nav>
		
		<!--顶部白色背景-->
		<div class="topStatus hide"></div>
		
		<div class="scrollToTop hide" id="scrollToTop">
			<span class="mui-icon mui-icon-arrowup"></span>
			<p>顶部</p>
		</div>
		
		<!--下拉刷新容器-->
		<div id="refreshContainer" class="mui-content mui-scroll-wrapper">
			
			<span class="back mui-action-back mui-icon mui-icon-back"></span>
			
		  <div class="mui-scroll">
		    
		    <div class="mui-slider">
			    <div class="mui-slider-group">
					<div class="mui-slider-item"><a href="#"><img src="../imgs/1.jpg"/></a></div>
					<div class="mui-slider-item"><a href="#"><img src="../imgs/2.jpg"/></a></div>
					<div class="mui-slider-item"><a href="#"><img src="../imgs/3.jpg"/></a></div>
					<div class="mui-slider-item"><a href="#"><img src="../imgs/4.jpg"/></a></div>
				</div>
			</div>
			
			<div class="title">百草味-芒果干</div>
			
			<ul class="tip">
				<li>
					<embed src="../imgs/rightno.svg" width="300" height="100" 
				type="image/svg+xml"
				pluginspage="../imgs/right.svg" />
					<span>过敏包退</span>
				</li>
				<li>
					<embed src="../imgs/right.svg" width="300" height="100" 
				type="image/svg+xml"
				pluginspage="../imgs/right.svg" />
					<span>破损包退</span>
				</li>
				<li>
					<embed src="../imgs/rightno.svg" width="300" height="100" 
				type="image/svg+xml"
				pluginspage="../imgs/right.svg" />
					<span>急速包退</span>
				</li>
				<li>
					<embed src="../imgs/rightno.svg" width="300" height="100" 
				type="image/svg+xml"
				pluginspage="../imgs/right.svg" />
					<span>正品保证</span>
				</li>
				<li>
					<embed src="../imgs/rightno.svg" width="300" height="100" 
				type="image/svg+xml"
				pluginspage="../imgs/right.svg" />
					<span>急速退款</span>
				</li>
			</ul>
			
			<div class="goodsprice">
				<span>￥</span><span>55.6</span>
			</div>
			
			<ul class="mui-table-view">
			    <li class="mui-table-view-cell mui-media">
		            <img class="mui-media-object mui-pull-left" src="../imgs/3.jpg">
		            <div class="mui-media-body">
		            	<div class="btn">
		            		<button type="button" class="mui-btn mui-btn-danger mui-btn-outlined">全部宝贝</button>
		            		<button type="button" class="mui-btn mui-btn-danger">进店逛逛</button>
		            	</div>
		                <p class="mui-ellipsis">京东店铺</p>
		            </div>
			    </li>
			</ul>
			
			<ul class="comment">
				<li>宝贝描述  <span>4.9 高</span></li>
				<li>卖家服务  <span>4.8 高</span></li>
				<li>物流服务  <span>4.8 高</span></li>
			</ul>
			
			<div class="evaluate">
				<div class="top">
					<p>宝贝评价（6382）</p>
					<a href="#">查看全部   <span class="mui-icon mui-icon-arrowright"></span></a>
				</div>
				<ul class="label">
					<li>质量不错(7)</li>
					<li>快递不错(3)</li>
				</ul>
				
				<div class="mui-card">
					<!--页眉，放置标题-->
					<div class="mui-card-header mui-card-media">
						<img src="../imgs/4.jpg" />
						<div class="mui-media-body">
							小明
							<p>发表于 2016-06-30 15:30</p>
						</div>
					</div>
					<!--内容区-->
					<div class="mui-card-content">
						东西不错，已经是第三次购买了，老板服务好，速度快，质量是好的没的说，已经推荐了好几个朋友来这家店买了...
					</div>
					<!--页脚，放置补充信息或支持的操作-->
					<!--<div class="mui-card-footer">页脚</div>-->
				</div>
				
				<div class="mui-slider detail">
				    <div class="mui-slider-indicator mui-segmented-control mui-segmented-control-inverted">
				        <a class="mui-control-item mui-active" href="#item1">图文详情</a>
				        <a class="mui-control-item" href="#item2">产品规格</a>
				    </div>
				    <!--<div id="sliderProgressBar" class="mui-slider-progress-bar mui-col-xs-6"></div>-->
				    <div class="mui-slider-group">
				        <div id="item1" class="mui-slider-item mui-control-content mui-active">
				            <img src="../imgs/1.jpg" alt="" />
		                	<img src="../imgs/2.jpg" alt="" />
		                	<img src="../imgs/3.jpg" alt="" />
		                	<img src="../imgs/4.jpg" alt="" />
				        </div>
				        <div id="item2" class="mui-slider-item mui-control-content">
				            <ul class="mui-table-view">
				                <li class="mui-table-view-cell">保修：全国联保</li>
				                <li class="mui-table-view-cell">成色：全新</li>
				                <li class="mui-table-view-cell">手表镜面材质：矿物强化玻璃镜面</li>
				                <li class="mui-table-view-cell">机芯产地：日本</li>
				                <li class="mui-table-view-cell">生产厂家名称：广州市创世钟表有限公司</li>
				            </ul>
				        </div>
				    </div>
				</div>
				
			</div>
			
			<div class="like">
				<div class="top">
					<svg class="icon" aria-hidden="true">
					  <use xlink:href="#icon-heart"></use>
					</svg>
					<p>猜你喜欢</p>
				</div>
				
				<ul>
					<li>
						<a href="detail.html">
							<div class="like-left">
								<img src="../imgs/1.jpg" alt="" />
							</div>
							<div class="like-right">
								<div class="name">爱奇艺VIP黄金会员月卡 爱奇艺会员1个月</div>
								<div class="price">
									<p><span>￥</span>19.9</p>
									<p>月销49118</p>
								</div>
								<div class="price1">
									<p>天猫价  ￥69.9</p>
									<div class="ticket">
										<img src="../imgs/ticket.png" alt="" />
									</div>
								</div>
							</div>
						</a>
					</li>
					<li>
						<a href="detail.html">
							<div class="like-left">
								<img src="../imgs/2.jpg" alt="" />
							</div>
							<div class="like-right">
								<div class="name">爱奇艺VIP黄金会员月卡 爱奇艺会员1个月</div>
								<div class="price">
									<p><span>￥</span>19.9</p>
									<p>月销49118</p>
								</div>
								<div class="price1">
									<p>天猫价  ￥69.9</p>
									<div class="ticket">
										<img src="../imgs/ticket.png" alt="" />
									</div>
								</div>
							</div>
						</a>
					</li>
					<li>
						<a href="detai3.html">
							<div class="like-left">
								<img src="../imgs/3.jpg" alt="" />
							</div>
							<div class="like-right">
								<div class="name">爱奇艺VIP黄金会员月卡 爱奇艺会员1个月</div>
								<div class="price">
									<p><span>￥</span>19.9</p>
									<p>月销49118</p>
								</div>
								<div class="price1">
									<p>天猫价  ￥69.9</p>
									<div class="ticket">
										<img src="../imgs/ticket.png" alt="" />
									</div>
								</div>
							</div>
						</a>
					</li>
				</ul>
				
			</div>
			
			
			
			
		  </div>
		</div>
		
		
		<script src="../js/mui.min.js"></script>
		<script src="../fonts/iconfont.js"></script>
		<script type="text/javascript">
			
			mui.init({
				//配置下拉刷新和上拉加载
				pullRefresh: {
					container: '#refreshContainer',
					//下拉刷新
					down: {
						contentdown: "下拉可以刷新",
						contentover: '释放立即刷新',
						contentrefresh: '正在刷新...',
						callback: pulldownRefresh
					},
					//上拉加载
					up: {
						callback: pullupRefresh
					}
				}
			});
			
			//下拉刷新
			function pulldownRefresh(){
				setTimeout(function(){
					//结束下拉刷新
					mui('#refreshContainer').pullRefresh().endPulldownToRefresh();	
				},1000);
			}
			
			//上拉加载
			function pullupRefresh(){
				setTimeout(function(){
					//创建dom
					var table =document.querySelector(".like ul");
					for(var i=0;i<3;i++){
						var li = document.createElement("li");
						//li.className = "mui-table-view-cell mui-media";
					
			            var str = `<a href="detai3.html">
								<div class="like-left">
									<img src="../imgs/${i+1}.jpg" alt="" />
								</div>
								<div class="like-right">
									<div class="name">爱奇艺VIP黄金会员月卡 爱奇艺会员1个月</div>
									<div class="price">
										<p><span>￥</span>19.9</p>
										<p>月销49118</p>
									</div>
									<div class="price1">
										<p>天猫价  ￥69.9</p>
										<div class="ticket">
											<img src="../imgs/ticket.png" alt="" />
										</div>
									</div>
								</div>
							</a>`;
			                
			            li.innerHTML = str;
			            table.appendChild(li);    
					}
					//结束下拉刷新
					mui('#refreshContainer').pullRefresh().endPullupToRefresh();	
				},1000);
			}
			
			//关闭页面时触发
			var old_back = mui.back;
			mui.back = function(){
				plus.navigator.setStatusBarStyle( "dark" );
				old_back();
			};
			
			mui.plusReady(function(){
				
				plus.navigator.setStatusBarStyle( "light" );
				
				//滑动到底部（因为dom还没加载完导致失效，所以在plusReady里面才生效）
				//mui('.mui-scroll-wrapper').scroll().scrollToBottom(10); 
				
			});
			
			//回到顶部和返回按钮显示与隐藏
			var scrollToTopBox = document.getElementById('scrollToTop');
			var back = document.querySelector('.back'); //返回按钮
			var backNav = document.querySelector('.mui-bar-nav'); //返回
			var topStatus = document.querySelector('.topStatus'); //顶部状态栏
			scrollToTopBox.addEventListener('tap',function(e){
				e.stopPropagation();
				mui('.mui-scroll-wrapper').pullRefresh().scrollTo(0,0,1000);
			});
			//Android上监听原生滚动，IOS上监听div滚动，上拉超过一定距离后显示按钮，否则隐藏，可自行在条件判断中修改
			if(mui.os.android){ //android设备
				window.addEventListener('scroll',function(e){
					//返回按钮的显示与隐藏
					if(window.pageYOffset > 0 && !back.classList.contains('hide')){
						back.classList.add('hide');
					}else if(window.pageYOffset <= 0 && back.classList.contains('hide')){
						back.classList.remove('hide');
					}
					//返回按钮的变化
					if(window.pageYOffset <= -100 && backNav.classList.contains('hide')){
						back.classList.add('hide');
						backNav.classList.remove('hide');
						plus.navigator.setStatusBarStyle( "dark" );
						topStatus.classList.remove('hide');
					}else if(window.pageYOffset > -100 && !backNav.classList.contains('hide')){
						back.classList.remove('hide');
						backNav.classList.add('hide');
						plus.navigator.setStatusBarStyle( "light" );
						topStatus.classList.add('hide');
					}
					
					if(window.pageYOffset >= window.innerHeight && scrollToTopBox.classList.contains('hidden')){
						scrollToTopBox.classList.remove('hide');
					}else if(window.pageYOffset < window.innerHeight && !scrollToTopBox.classList.contains('hide')){
						scrollToTopBox.classList.add('hide');
					}
				});
			}else{ //ios设备
				//console.log(scrollToTopBox.classList);
				document.querySelector('.mui-scroll-wrapper').addEventListener('scroll',function(){
					//mui('.mui-scroll-wrapper').pullRefresh().y：获取距离顶部的距离大小
					//返回按钮的显示与隐藏
					if(mui('.mui-scroll-wrapper').pullRefresh().y > 0 && !back.classList.contains('hide')){
						back.classList.add('hide');
					}else if(mui('.mui-scroll-wrapper').pullRefresh().y <= 0 && back.classList.contains('hide')){
						back.classList.remove('hide');
					}
					//返回按钮的变化
					if(mui('.mui-scroll-wrapper').pullRefresh().y <= -100 && backNav.classList.contains('hide')){
						back.classList.add('hide');
						backNav.classList.remove('hide');
						//plus.navigator.setStatusBarBackground("#f00"); //无效，因为manifest.json配置优先级高
						plus.navigator.setStatusBarStyle( "dark" );
						topStatus.classList.remove('hide');
					}else if(mui('.mui-scroll-wrapper').pullRefresh().y > -100 && !backNav.classList.contains('hide')){
						back.classList.remove('hide');
						backNav.classList.add('hide');
						plus.navigator.setStatusBarStyle( "light" );
						topStatus.classList.add('hide');
					}
					
					if(mui('.mui-scroll-wrapper').pullRefresh().y <= window.innerHeight * (-1) && scrollToTopBox.classList.contains('hide')){
						scrollToTopBox.classList.remove('hide');
					}else if(mui('.mui-scroll-wrapper').pullRefresh().y > window.innerHeight * (-1) && !scrollToTopBox.classList.contains('hide')){
						scrollToTopBox.classList.add('hide');
					}
				});
			}
			
			//点击收藏
			document.getElementById("collect").addEventListener('tap',function(){
				
				this.classList.toggle('active');
				if(this.classList.contains('active')){
					var message = '<div class="starToast"><span class="iconfont icon-star1"></span><span class="message">收藏成功!</span></div>';
					mui.toast(message,{duration: 1000,type: 'div'});
					document.getElementById("star").innerHTML = '已收藏';
				}else{ 
					var message = '<div class="starToast"><span class="iconfont icon-star1"></span><span class="message">取消收藏成功!</span></div>';
					mui.toast(message,{duration: 1000,type: 'div'});
					document.getElementById("star").innerHTML = '收藏';
				}
				
			});
			
			
			
			
		</script>
	</body>

</html>